이중화가 되어 있는 서비스에서 한 쪽 서버는 한글이나 일어의 로그 출력이나 특정 문자열을 해싱 처리하는 로직이 정상적으로 처리되었으나<br>
한 쪽 서버에서는 로그에 한글 또는 일어가 물음표로 깨져서 나왔고 문자열을 해싱 처리하는 로직에서 오류가 발생하고 있었습니다. <br>
해당 문자열에는 일본어가 포함되었다는 점과 로그의 문자열 깨짐 현상을 보고 인코딩 문제에 초점을 맞추고 시작하였습니다.

<br><br>

결과적으로 해결방안은 jvm 의 인코딩 설정으로 두 문제를 모두 해결하였습니다.

> ex) test.war 실행 시 설정

~~~sh
java -Dfile.encoding=UTF-8 -jar test.war
~~~

-Dfile.encoding=UTF-8  << 이 부분만 추가해주면 되며 Spring boot 의 내장 톰캣을 사용하며 자바 실행 시 명령어를 추가하였으나, <br>
외부 톰캣의 경우 catalina.sh 파일에 추가해주면 됩니다. <br><br>

각각 서버 두대는 자바 버전부터 OS의 캐릭터셋 까지 전부 같은 설정이었는데 한 쪽만 정상적인 동작을 한것은 의문이 듭니다.. (누군가가 다른 설정을 건드렸을수도 ㅎㅎ..) <br>
